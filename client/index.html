<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>PumpGames.Fun - Snake Battle Royale</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323:wght@400&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- SPA Routing Fix for Netlify -->
    <script type="text/javascript">
      // Comprehensive SPA routing fix for Netlify
      (function() {
        // Handle direct URL access
        var path = window.location.pathname;
        if (path !== '/' && !path.includes('.')) {
          // Store the intended path
          sessionStorage.redirect = path;
          // Redirect to root
          window.location.href = '/';
        }
        
        // Handle search parameters
        if (window.location.search[1] === '/') {
          var decoded = window.location.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
              window.location.pathname.slice(0, -1) + decoded + window.location.hash
          );
        }
        
        // Restore redirect after page load
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect != location.href) {
          history.replaceState(null, null, redirect);
        }
      })();
    </script>
    
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>